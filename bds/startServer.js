const _0x34e70f=_0x279b;(function(_0x4ceba0,_0xa7a61d){const _0x4c0f4c=_0x279b,_0x7e488=_0x4ceba0();while(!![]){try{const _0x2f5577=-parseInt(_0x4c0f4c(0xea))/0x1+parseInt(_0x4c0f4c(0x10e))/0x2+-parseInt(_0x4c0f4c(0xf7))/0x3*(-parseInt(_0x4c0f4c(0x10f))/0x4)+parseInt(_0x4c0f4c(0xfb))/0x5+parseInt(_0x4c0f4c(0xfc))/0x6+parseInt(_0x4c0f4c(0x101))/0x7*(parseInt(_0x4c0f4c(0xfe))/0x8)+parseInt(_0x4c0f4c(0xdc))/0x9*(-parseInt(_0x4c0f4c(0x105))/0xa);if(_0x2f5577===_0xa7a61d)break;else _0x7e488['push'](_0x7e488['shift']());}catch(_0x2f6bb6){_0x7e488['push'](_0x7e488['shift']());}}}(_0x44a0,0xcf689));const {spawn}=require(_0x34e70f(0xf2)),{existsSync,readdirSync,writeFileSync}=require('fs'),{env,argv}=require(_0x34e70f(0x103)),path=require(_0x34e70f(0x110)),{getTime,sleep}=require('./time.js'),properties=require(_0x34e70f(0xe7)),logsPath=path['join'](env['appdata'],_0x34e70f(0xe2)),config=require(_0x34e70f(0xdf)),root=path['join'](__dirname+_0x34e70f(0x10c));let output='',uptime,mcfunction=[];const child=spawn(_0x34e70f(0x106),{'cwd':root});if(!existsSync(root+_0x34e70f(0xf8)))throw Error(_0x34e70f(0xfd));function _0x279b(_0xb3edbf,_0x20133b){const _0x44a026=_0x44a0();return _0x279b=function(_0x279b34,_0x183aac){_0x279b34=_0x279b34-0xdb;let _0x32503a=_0x44a026[_0x279b34];return _0x32503a;},_0x279b(_0xb3edbf,_0x20133b);}if(!argv[_0x34e70f(0xf9)](_0x34e70f(0xe5))){let ServerProperties=properties[_0x34e70f(0xdd)](path[_0x34e70f(0xfa)](root,_0x34e70f(0xf1),_0x34e70f(0x104)));console[_0x34e70f(0xed)]('['+getTime()+_0x34e70f(0xee)),ServerProperties[_0x34e70f(0xde)](_0x34e70f(0x10a),_0x34e70f(0x109)),ServerProperties[_0x34e70f(0xeb)](),console['log']('['+getTime()+_0x34e70f(0xe9));if(existsSync(logsPath))writeFileSync(path[_0x34e70f(0xfa)](__dirname,_0x34e70f(0x108)),JSON[_0x34e70f(0xe0)](readdirSync(logsPath)));else writeFileSync(path['join'](__dirname,_0x34e70f(0x108)),'[]');}else console[_0x34e70f(0xed)]('['+getTime()+_0x34e70f(0xf6));function _0x44a0(){const _0x11eb67=['bedrock_server','child_process','commands','stdin',']\x20Sent\x20request\x20to\x20start\x20BDS...',']\x20Disable\x20write\x20permission','3nqMBvR','/bedrock_server','includes','join','3422015kJGYpC','7971252GBdUOD','bedrock_server\x20directory\x20does\x20not\x20exist,\x20unable\x20to\x20start\x20the\x20process.','16sSneLa','end','serverInitialize','1142204ORMalX','data','process','server.properties','58810BQtRwQ','cmd','@echo\x20off\x0a','ignore.json','true','content-log-file-enabled','Exiting\x20process\x20with\x20code\x201','/../','server-uptime','126336CqNsKK','42796tnqsHx','path','Quit\x20correctly','split','477rtxtYg','createEditor','set','../bds-config.json','stringify','length','logs','error','stop\x0a','-write=false','setEncoding','properties-parser','write',']\x20Successfully\x20set\x20\x22content-log-file-enabled\x22\x20to\x20true','1251918YAvupE','save','close','log',']\x20Opening\x20bedrock_server/server.properties','.\x5cbedrock_server\x5cbedrock_server.exe\x0a','stdout'];_0x44a0=function(){return _0x11eb67;};return _0x44a0();}child['stdin'][_0x34e70f(0xe6)]('utf-8'),child[_0x34e70f(0xf0)]['pipe'](process['stdout']),child[_0x34e70f(0xf0)]['on'](_0x34e70f(0x102),_0x270186=>{output+=_0x270186;}),console[_0x34e70f(0xed)]('['+getTime()+_0x34e70f(0xf5)),child[_0x34e70f(0xf4)][_0x34e70f(0xe8)](_0x34e70f(0xef),function(_0xf077c5){const _0x43533f=_0x34e70f;if(!!_0xf077c5)console[_0x43533f(0xe3)](_0xf077c5);});argv[_0x34e70f(0xf9)]('-ignoreConfig')?(uptime=0x0,mcfunction=[]):(uptime=config[_0x34e70f(0x10d)],mcfunction=config[_0x34e70f(0x100)][_0x34e70f(0xf3)]);;(async function(){const _0xcc023a=_0x34e70f;for(const _0x1756ec of mcfunction){await sleep(0x3e8/0x14),child[_0xcc023a(0xf4)][_0xcc023a(0xe8)](_0x1756ec+'\x0a');}await sleep(uptime*0x3e8),child[_0xcc023a(0xf4)][_0xcc023a(0xe8)](_0xcc023a(0xe4)),child[_0xcc023a(0xf4)]['write'](_0xcc023a(0x107)),child['stdin'][_0xcc023a(0xff)]();}()),child['on'](_0x34e70f(0xec),()=>{const _0x4d4457=_0x34e70f;let _0x4f179f=output[_0x4d4457(0xdb)]('\x0d\x0a');_0x4f179f[_0x4f179f[_0x4d4457(0xe1)]-0x3]!==_0x4d4457(0x111)&&(console['error'](_0x4d4457(0x10b)),process['exitCode']=0x1);;});